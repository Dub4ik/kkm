===
KKM
===

Contributors
------------
- Copyright (c) 2005, 2012
- Original Code: Marat Khayrullin <xmm.dev@gmail.com>
- https://github.com/xmm/kkm/

- Copyright (c) 2015, 2017
- Extended Version: Eugene Kaltashkin <aborche.aborche@gmail.com>
- https://github.com/aborche/kkm/


Introduction
------------
Библиотека, написанная на языке python, для работы с 
контрольно-кассовыми машинами (фискальными регистраторами до выхода 54-ФЗ).
Отличия от оригинала:

- Модифицирован драйвер реализующий протокол Atol 2.4 используемый в ККТ АТОЛ и PayVKP-80K от Paykiosk.ru
- Добавлены таблицы настроек ККТ(АТОЛ,PayKiosk)
- Добавлен Application сервер для uwsgi
- Изменены процедуры программирования и конвертации данных
- Добавлена возможность обхода фискального регистратора в части печати текста и штрихкодов напрямую через команды принтера(для PayVKP-80K)
- Добавлено логирование
- Добавлены расширенные коды ошибок
- Добавлен опрос статуса принтера
- Добавлен транскодинг символов не существующих в cp866
- Добавлен транскодинг utf-8 <-> cp866

Код выложен AS IS с отладочной и тестовыми средами.

Requirements
------------
Для работы необходим модуль serial.  
Модуль ККМ успешно работал до введения 54-ФЗ в Иркутском планетарии.
Не пытайтесь распечатывать при его помощи билеты! Билеты валидируются билетной системой

Использованные документы
------------------------
 <1>: Атол технологии
       Руководство программиста: Протокол работы ККМ v2.4
 <2>: Атол технологии
       Руководство программиста: Общий драйвер ККМ v.5.1
       (версия док-ции: 1.7 от 15.05.2002)
 <3>: Курское ОАО "Счетмаш"
       Инструкция по программированию РЮИБ.466453.528 И15
       Машина электронная контрольно-кассовая Феликс-Р Ф
 <4>: Атол технологии
       Приложение к протоколу работы ККМ (2009)
 <5>: PayKiosk
       Дополнения к протоколу 1

License
-------
Начиная с версии 2.0.pre1 (опубликованной на https://github.com/xmm/kkm/)
эта библиотека распространяется под лицензией Apache-2.0. Подробности в файле LICENSE. 
Предыдущая версия, расположенная по адресу http://code.google.com/p/kkm/ 
распространялась под лицензией GPL-2.

Installation
------------
     python setup.py

Usage
-----
Для примеров использования драйвера смотрите файлы vkp_testkit.py и wsgi.py.
